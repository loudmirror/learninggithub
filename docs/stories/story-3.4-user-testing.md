# Story 3.4: 小范围用户测试

## 📋 Story 元信息

- **Story ID**: STORY-3.4
- **Epic**: MVP v0.1
- **所属迭代**: 迭代 3 - 问答功能 + 体验优化
- **状态**: Draft
- **优先级**: Medium
- **预估时间**: 2-3 天
- **负责人**: PM Agent + Dev Agent
- **依赖**: STORY-1.1 ~ 3.3 (所有前置 Story)

---

## 📖 User Story

**As a** 产品负责人
**I want** 邀请真实用户测试 MVP 产品
**So that** 我可以验证产品假设、发现问题、收集反馈并指导后续迭代

---

## 🎯 背景与上下文

### 项目上下文
在完成所有核心功能后，需要进行小范围用户测试：
1. 验证核心价值主张（通过 GitHub 仓库快速学习）
2. 发现可用性问题和 Bug
3. 收集用户反馈和改进建议
4. 评估关键指标（完成率、满意度等）

### 技术上下文
- **测试方法**: 远程可用性测试 + 问卷调查
- **测试用户**: 3-5 名目标用户（开发者）
- **测试仓库**: 精选 2-3 个具有代表性的 GitHub 仓库
- **数据收集**: Google Forms + 手动记录

### 迭代目标
完成用户测试，形成测试报告和改进建议清单。

---

## ✅ 验收标准

### 测试准备

1. **AC-3.4.1**: 准备测试环境
   - 部署到可公开访问的测试服务器
   - 配置 OpenAI API（确保有足够配额）
   - 准备测试数据（预先向量化 2-3 个仓库）

2. **AC-3.4.2**: 准备测试材料
   - 测试脚本（引导用户完成核心流程）
   - 测试任务清单（如"生成 React 教程并完成前 3 个步骤"）
   - 反馈问卷（包含可用性、满意度、功能性问题）

3. **AC-3.4.3**: 招募测试用户
   - 目标: 3-5 名开发者（不同经验水平）
   - 渠道: 朋友、同事、开发者社区
   - 条件: 有 GitHub 使用经验，愿意提供反馈

### 测试执行

4. **AC-3.4.4**: 执行可用性测试
   - 每个用户测试时长: 30-45 分钟
   - 测试方式: 远程屏幕共享 + 实时观察
   - 记录: 用户行为、困惑点、错误、建议

5. **AC-3.4.5**: 收集定量数据
   - 任务完成率（核心流程）
   - 任务完成时间
   - 错误次数
   - 满意度评分（1-5 分）

6. **AC-3.4.6**: 收集定性反馈
   - 用户最喜欢的功能
   - 用户最困惑的地方
   - 用户期望的新功能
   - 开放式建议

### 测试产出

7. **AC-3.4.7**: 形成测试报告
   - 测试概述（时间、用户、方法）
   - 关键发现（5-10 个主要问题）
   - 定量数据汇总
   - 定性反馈摘要

8. **AC-3.4.8**: 生成改进清单
   - Bug 清单（需修复的问题）
   - UX 改进建议（优先级排序）
   - 新功能需求（记录到 Backlog）
   - 技术债务（性能、架构等）

9. **AC-3.4.9**: 评估成功指标
   - 核心流程完成率 ≥ 80%
   - 用户满意度 ≥ 3.5/5
   - 严重 Bug 数量 ≤ 3 个
   - 用户愿意推荐给朋友 ≥ 60%

### 后续行动

10. **AC-3.4.10**: 制定改进计划
    - 根据反馈调整产品路线图
    - 规划下一个迭代的 Story
    - 确定优先修复的问题

---

## 🔧 技术实现任务

### Task 1: 准备测试环境
**预估**: 2 小时

#### 1.1 部署到测试服务器

```bash
# 部署后端
cd backend
poetry export -f requirements.txt --output requirements.txt
# 部署到 Heroku / Railway / Render

# 部署前端
cd frontend
pnpm build
# 部署到 Vercel / Netlify

# 配置环境变量
# OPENAI_API_KEY=...
# DATABASE_URL=...  (如果使用)
```

#### 1.2 预先向量化测试仓库

选择 2-3 个测试仓库：
- **简单项目**: `octocat/Hello-World` (基础 Git 示例)
- **中等项目**: `shadcn/ui` (React 组件库)
- **复杂项目**: `vercel/next.js` (大型框架)

使用后端 API 预先向量化：

```bash
curl -X POST https://api.learninggithub.com/api/vectorize \
  -H "Content-Type: application/json" \
  -d '{"repo_url": "https://github.com/octocat/Hello-World"}'
```

#### 1.3 配置监控和日志

添加基础的错误监控：

```bash
# 可选：集成 Sentry
pnpm add @sentry/nextjs @sentry/node
```

---

### Task 2: 创建测试脚本
**预估**: 1.5 小时

创建 `docs/testing/user-test-script.md`:

```markdown
# LearningGitHub MVP 用户测试脚本

## 测试信息

- **测试时间**: YYYY-MM-DD HH:MM
- **测试用户**: [姓名]
- **用户背景**: [开发经验、熟悉的技术栈]
- **测试员**: [观察者姓名]

## 开场白

感谢您参加今天的测试！我们正在开发一个帮助开发者快速学习 GitHub 仓库的工具。今天的测试大约需要 30-45 分钟。

**重要提示**:
- 请大声说出您的想法（Think Aloud）
- 没有对错，任何反馈都很宝贵
- 如果遇到问题，请告诉我们

## 任务 1: 生成教程（10 分钟）

**任务描述**: 请访问网站，为 `shadcn/ui` 仓库生成学习教程。

**观察要点**:
- [ ] 用户能否顺利找到输入框
- [ ] 用户是否理解如何输入仓库 URL
- [ ] 用户能否等待教程生成完成
- [ ] 生成时间是否在可接受范围

**记录**:
- 完成时间: ___ 分钟
- 错误次数: ___
- 困惑点: ___

## 任务 2: 浏览教程内容（10 分钟）

**任务描述**: 请浏览生成的教程，了解 `shadcn/ui` 的概述和目录结构。

**观察要点**:
- [ ] 用户能否理解教程结构（modules, steps）
- [ ] 用户对内容质量的反应
- [ ] 用户是否尝试展开/收起 Module

**记录**:
- Overview 质量评价: 1-5 分 ___
- 代码示例清晰度: 1-5 分 ___

## 任务 3: 完成学习步骤（10 分钟）

**任务描述**: 请完成前 3 个学习步骤，并观察进度变化。

**观察要点**:
- [ ] 用户能否找到并勾选步骤
- [ ] 用户是否注意到进度条变化
- [ ] 用户对"下一步"提示的反应

**记录**:
- 完成时间: ___ 分钟
- 交互流畅度: 1-5 分 ___

## 任务 4: 使用问答功能（10 分钟）

**任务描述**: 请尝试提问"How do I install shadcn/ui?"并查看回答。

**观察要点**:
- [ ] 用户能否找到问答入口
- [ ] 用户对回答质量的反应
- [ ] 用户是否尝试查看代码引用

**记录**:
- 回答质量: 1-5 分 ___
- 响应时间: ___ 秒
- 用户满意度: 1-5 分 ___

## 任务 5: 自由探索（5 分钟）

**任务描述**: 请自由探索网站的其他功能。

**记录**:
- 用户探索的功能: ___
- 用户提出的问题: ___

## 结束问卷

1. 整体满意度（1-5 分）: ___
2. 您会推荐给朋友吗？（是/否）: ___
3. 最喜欢的功能: ___
4. 最困惑的地方: ___
5. 希望增加的功能: ___
6. 其他建议: ___

## 测试员备注

- 观察到的 Bug: ___
- UX 问题: ___
- 性能问题: ___
```

---

### Task 3: 创建反馈问卷
**预估**: 1 小时

使用 Google Forms 创建问卷，包含以下问题：

**基本信息**:
1. 您的开发经验（年限）
2. 熟悉的编程语言
3. 使用 GitHub 的频率

**可用性评估**:
4. 生成教程的过程是否顺利？（1-5 分）
5. 教程内容是否易于理解？（1-5 分）
6. 学习路径交互是否流畅？（1-5 分）
7. 问答功能是否有帮助？（1-5 分）

**功能性评估**:
8. 教程生成速度是否可接受？（是/否）
9. 教程内容是否准确？（1-5 分）
10. 代码示例是否有用？（1-5 分）

**开放式反馈**:
11. 您最喜欢哪个功能？为什么？
12. 您在使用过程中遇到了什么问题？
13. 您希望增加哪些功能？
14. 其他建议

**推荐意愿**:
15. 您会推荐给朋友使用吗？（1-10 分 NPS）

---

### Task 4: 招募测试用户
**预估**: 1 天（并行进行）

**招募渠道**:
- 发送邮件给开发者朋友
- 在公司内部寻找志愿者
- 在开发者社区发帖（如 V2EX、掘金）

**招募文案**:

```
【招募】GitHub 学习工具用户测试志愿者

我们正在开发一个帮助开发者快速学习 GitHub 仓库的 AI 工具，
现在邀请您参加用户测试（30-45 分钟），并提供宝贵反馈。

要求：
✅ 有 GitHub 使用经验
✅ 愿意提供真实反馈
✅ 可以远程视频测试

福利：
🎁 优先体验新功能
🎁 感谢小礼品

感兴趣请联系: [邮箱]
```

---

### Task 5: 执行用户测试
**预估**: 1-2 天（每个用户 45 分钟 + 准备时间）

**测试流程**:

1. **测试前**（10 分钟）
   - 确认测试环境正常
   - 准备屏幕共享工具（Zoom, Tencent Meeting）
   - 准备记录工具（笔记本、录屏）

2. **测试中**（30-45 分钟）
   - 开场介绍（5 分钟）
   - 任务执行（25-35 分钟）
   - 问卷填写（5 分钟）

3. **测试后**（10 分钟）
   - 整理笔记
   - 标记关键发现
   - 记录 Bug 和建议

**记录模板** (`docs/testing/test-session-[user-name].md`):

```markdown
# 测试记录: [用户名]

## 用户信息
- 开发经验: X 年
- 主要技术栈: Python, React
- GitHub 使用频率: 每天

## 任务完成情况

### 任务 1: 生成教程
- 完成时间: 3 分钟
- 完成状态: ✅ 成功
- 观察: 用户一开始没注意到输入框，提示后顺利完成

### 任务 2: 浏览教程
- 完成时间: 5 分钟
- 完成状态: ✅ 成功
- 观察: 用户对教程质量表示满意，建议增加搜索功能

### 任务 3: 完成步骤
- 完成时间: 4 分钟
- 完成状态: ✅ 成功
- 观察: 进度条更新流畅，用户注意到"下一步"提示

### 任务 4: 问答功能
- 完成时间: 5 分钟
- 完成状态: ⚠️ 部分成功
- 观察: 回答质量好，但响应时间较慢（8 秒）

## 发现的问题

### P0 (严重 Bug)
- [ ] 无

### P1 (影响使用)
- [ ] 问答响应时间过长（>5 秒）

### P2 (体验问题)
- [ ] 首次访问缺少引导
- [ ] 移动端布局需优化

### P3 (建议)
- [ ] 增加教程搜索功能
- [ ] 支持导出教程为 Markdown

## 用户反馈摘要

**最喜欢**: 教程生成速度快，内容质量高
**最困惑**: 第一次使用不知道如何开始
**建议功能**: 教程收藏、分享功能
**整体评分**: 4/5

## 测试员备注

- 用户整体体验良好
- 需要优化首次使用引导
- 问答功能性能需优化
```

---

### Task 6: 汇总测试结果
**预估**: 3 小时

创建 `docs/testing/mvp-user-test-report.md`:

```markdown
# LearningGitHub MVP 用户测试报告

## 测试概述

- **测试时间**: 2024-01-15 ~ 2024-01-17
- **测试用户**: 5 名
- **测试方法**: 远程可用性测试 + 问卷调查
- **测试环境**: 测试服务器 (https://test.learninggithub.com)

## 用户画像

| 用户 | 经验 | 主要技术栈 | GitHub 使用频率 |
|------|------|-----------|----------------|
| User A | 3 年 | JavaScript, React | 每天 |
| User B | 5 年 | Python, Django | 每周 |
| User C | 1 年 | Java, Spring | 每周 |
| User D | 7 年 | Go, Kubernetes | 每天 |
| User E | 2 年 | TypeScript, Vue | 每天 |

## 定量数据

### 任务完成率

| 任务 | 完成率 | 平均时间 | 错误次数 |
|------|--------|---------|---------|
| 生成教程 | 100% | 2.8 分钟 | 0.4 次 |
| 浏览教程 | 100% | 5.2 分钟 | 0 次 |
| 完成步骤 | 100% | 4.5 分钟 | 0.2 次 |
| 使用问答 | 80% | 6.3 分钟 | 1.2 次 |

### 满意度评分

- 整体满意度: **4.2/5**
- 教程质量: **4.4/5**
- 交互流畅度: **3.8/5**
- 问答质量: **4.0/5**

### NPS (净推荐值)

- 推荐者（9-10 分）: 40%
- 中立者（7-8 分）: 40%
- 贬损者（0-6 分）: 20%
- **NPS = 20**（可接受，需提升）

## 关键发现

### ✅ 做得好的地方

1. **教程质量高**: 所有用户认为教程内容准确、结构清晰
2. **生成速度快**: 平均 2.8 分钟，符合预期
3. **学习路径直观**: 进度追踪功能受到好评
4. **代码示例实用**: 高亮和复制功能便捷

### ⚠️ 主要问题

1. **缺少新手引导**: 3/5 用户首次使用时不知道如何开始
2. **问答响应慢**: 平均 7 秒，超出预期（目标 <5 秒）
3. **移动端体验差**: 2/5 用户反馈移动端布局需优化
4. **错误提示不友好**: 1 个用户遇到错误后不知道如何处理

### 🐛 发现的 Bug

#### P0 (严重)
- 无

#### P1 (高优先级)
1. 问答功能偶尔超时（1/5 用户遇到）
2. 仓库向量化失败时没有明确提示

#### P2 (中优先级)
1. 移动端 Drawer 宽度过窄
2. 长代码块未折叠，占用过多空间
3. 进度百分比计算偶尔不准确

#### P3 (低优先级)
1. 代码复制按钮点击区域过小
2. Module 折叠动画有时卡顿

### 💡 用户建议的功能

1. **教程搜索**: 在教程内搜索关键词（4/5 用户提及）
2. **教程导出**: 导出为 Markdown 或 PDF（3/5）
3. **教程收藏**: 保存学习过的教程（3/5）
4. **多语言支持**: 支持英文界面（2/5）
5. **学习笔记**: 在步骤旁添加个人笔记（2/5）

## 用户反馈摘要

### 最喜欢的功能
- "教程生成速度快，质量高"
- "学习路径很直观，进度一目了然"
- "问答功能很实用，能快速解答疑惑"

### 最困惑的地方
- "第一次用不知道从哪开始"
- "不确定哪些仓库支持"
- "问答有时响应很慢"

### 典型反馈

> "整体体验很好，教程质量超出预期。如果能加上搜索功能就完美了。" - User A

> "问答功能很棒，但响应时间有点慢，希望能优化。" - User D

> "移动端体验需要改进，有些按钮太小了。" - User C

## 改进建议

### 短期（下一个迭代）

1. **添加首次使用引导** (P0)
   - 在首页添加简短的产品介绍
   - 提供示例仓库链接

2. **优化问答性能** (P0)
   - 缓存常见问题
   - 使用 gpt-3.5-turbo 降低延迟

3. **改进错误提示** (P1)
   - 仓库向量化失败时提供明确说明
   - 所有错误提供"重试"按钮

4. **修复移动端布局** (P1)
   - Drawer 宽度适配小屏幕
   - 触摸按钮增大点击区域

### 中期（后续迭代）

5. **实现教程搜索** (高需求)
6. **支持教程导出** (中需求)
7. **添加教程收藏功能** (中需求)

### 长期

8. 多语言支持
9. 学习笔记功能
10. 社区分享功能

## 成功指标评估

| 指标 | 目标 | 实际 | 状态 |
|------|------|------|------|
| 核心流程完成率 | ≥80% | 95% | ✅ 达标 |
| 用户满意度 | ≥3.5/5 | 4.2/5 | ✅ 达标 |
| 严重 Bug 数量 | ≤3 | 0 | ✅ 达标 |
| 推荐意愿 | ≥60% | 80% | ✅ 达标 |
| NPS | ≥20 | 20 | ✅ 达标 |

**结论**: MVP 基本达标，核心价值得到验证，需针对性优化。

## 下一步行动

1. [ ] 创建 Bug 修复 Story
2. [ ] 创建 UX 优化 Story
3. [ ] 规划下一个迭代（Post-MVP）
4. [ ] 更新产品路线图
5. [ ] 准备公开 Beta 测试
```

---

### Task 7: 创建改进清单
**预估**: 1 小时

在项目管理工具中创建 Issues:

```markdown
## Bug Fixes

- [ ] #1: 问答功能偶尔超时
- [ ] #2: 仓库向量化失败无提示
- [ ] #3: 移动端 Drawer 宽度问题
- [ ] #4: 长代码块未折叠
- [ ] #5: 进度百分比计算不准确

## UX Improvements

- [ ] #6: 添加首次使用引导
- [ ] #7: 优化问答响应时间
- [ ] #8: 改进错误提示友好度
- [ ] #9: 增大移动端点击区域
- [ ] #10: 优化 Module 折叠动画

## Feature Requests

- [ ] #11: 教程内搜索功能
- [ ] #12: 教程导出为 Markdown
- [ ] #13: 教程收藏功能
- [ ] #14: 多语言支持
- [ ] #15: 学习笔记功能
```

---

## 🚨 风险与依赖

### 风险评估

| 风险 | 概率 | 影响 | 缓解措施 |
|------|------|------|----------|
| 招募用户困难 | 中 | 高 | 提前启动招募，扩大招募渠道 |
| 测试环境不稳定 | 中 | 高 | 提前部署和测试 |
| OpenAI 配额不足 | 低 | 中 | 监控使用量，准备备用账号 |

### 依赖关系

**前置依赖**:
- STORY-1.1 ~ 3.3: 所有功能完成

**后续依赖**:
- Post-MVP 迭代规划

---

## ✅ Definition of Done

- [ ] 测试环境部署完成
- [ ] 测试材料准备完成
- [ ] 招募 3-5 名测试用户
- [ ] 完成所有用户测试
- [ ] 收集所有问卷反馈
- [ ] 形成测试报告
- [ ] 生成改进清单
- [ ] 评估成功指标
- [ ] 团队 Review 测试结果
- [ ] 规划下一步行动

---

## 📝 Dev Agent Record

### 开发日志

**时间**: YYYY-MM-DD
**开发者**: PM Agent + Dev Agent

#### 进展
- [ ] Task 1: 准备测试环境
- [ ] Task 2: 创建测试脚本
- [ ] Task 3: 创建反馈问卷
- [ ] Task 4: 招募测试用户
- [ ] Task 5: 执行用户测试
- [ ] Task 6: 汇总测试结果
- [ ] Task 7: 创建改进清单

#### 测试用户

| 用户 | 日期 | 状态 | 备注 |
|------|------|------|------|
| User A | 2024-01-15 | ✅ 完成 | 整体反馈良好 |
| User B | 2024-01-16 | ✅ 完成 | 建议增加搜索 |
| User C | 2024-01-16 | ✅ 完成 | 移动端体验差 |
| User D | 2024-01-17 | ✅ 完成 | 问答性能问题 |
| User E | 2024-01-17 | ✅ 完成 | 需要新手引导 |

#### 关键发现
- ✅ 核心价值得到验证
- ⚠️ 问答性能需优化
- ⚠️ 移动端体验需改进
- 💡 用户强烈需求搜索功能

---

## 🔗 相关文档

- [Epic: MVP v0.1](./epic-mvp-v0.1.md)
- [PRD v0.1](../prd.md)
- [UX 规格](../ux/ux-spec.md)
- [测试脚本](../testing/user-test-script.md)
- [测试报告](../testing/mvp-user-test-report.md)
